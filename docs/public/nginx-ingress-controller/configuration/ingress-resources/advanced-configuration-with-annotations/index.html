<!DOCTYPE html>
<html lang="en-us">

<head>  


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Advanced configuration with Annotations | NGINX Ingress Controller</title>






<link rel="canonical" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-annotations/">







<meta property="article:publisher" content="https://www.facebook.com/nginxinc" />
<meta property="og:image" content="https://docs.nginx.com/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta property="og:image:width" content="500" />
<meta property="og:image:height" content="300" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="" />
<meta name="twitter:title" content="Advanced configuration with Annotations" />
<meta name="twitter:site" content="@nginx" />
<meta name="twitter:image" content="https://docs.nginx.com/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta name="twitter:creator" content="@nginx" />




<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'
    https://consent.trustarc.com/ https://mktg.tags.f5.com/basic/prod/utag.sync.js https://static.cloud.coveo.com/ https://*.f5.com/
    https://*.netlify.app https://gist.github.com
    https://tag.demandbase.com/pscSDsz4.min.js
    https://munchkin.brightfunnel.com/js/build/bf-munchkin.min.js
    https://www.googletagmanager.com/gtm.js
    https://www.google-analytics.com/
    https://www.google-analytics.com/analytics.js
    https://www.google-analytics.com/plugins/ua/linkid.js
    https://cdn.bizible.com/scripts/bizible.js
    https://cdn.bizible.com/xdc.js
    https://f5networksglobalprod.122.2o7.net/
    https://f5networksnginxdocs.122.2o7.net/
    ;
    worker-src 'self' blob:">



<meta property="environment" type="production" />
<meta property="buildtype" type="webdocs" />
<meta property="isServer" type="false" />


<meta name="product" content="NGINX Ingress Controller">
<meta name="version" content="">
<meta name="doc_type" content="Manual">

<link rel="shortcut icon" type="image/x-icon" href="https://docs.nginx.com/images/favicon-48x48.ico">











<link href="/nginx-ingress-controller/fontawesome/css/all.min.4a71f958af9b67180f1ece38b96217f8b2c9009f7fd8f90f299e508808fa4daf3ac3e7ec6f64e47267d1c955f7a419cc15c57ba103c9925f507af4825abdd6e8.css" integrity="sha512-SnH5WK&#43;bZxgPHs44uWIX&#43;LLJAJ9/2PkPKZ5QiAj6Ta86w&#43;fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" rel="stylesheet" type="text/css">


<link href="/nginx-ingress-controller/fontawesome/css/v4-font-face.min.5870089ba06cf03e9721f87919eaf15c961a65e071845949ed2da58c5bfbd18a714c5dab2c155f0455ebcd2f45bfd598a5e47ae19976e7aa3a51e22914eac1b6.css" integrity="sha512-WHAIm6Bs8D6XIfh5GerxXJYaZeBxhFlJ7S2ljFv70YpxTF2rLBVfBFXrzS9Fv9WYpeR64Zl256o6UeIpFOrBtg==" rel="stylesheet" type="text/css">


<link href="/nginx-ingress-controller/fontawesome/css/v5-font-face.min.81bdf1c9f8ff16b1eda613d52d868a059f16c8c6045c3d7e0a0b771622a11666cdd94b8ea62b5edb0d4b826c3a3737ec3663065fe05b56b6b871e57de73f556b.css" integrity="sha512-gb3xyfj/FrHtphPVLYaKBZ8WyMYEXD1&#43;Cgt3FiKhFmbN2UuOpite2w1Lgmw6NzfsNmMGX&#43;BbVra4ceV95z9Vaw==" rel="stylesheet" type="text/css">

  

<link href="/nginx-ingress-controller/css/bootstrap.min.3f9320327d6304dd356ac060534cfad10938431897a3cebec2515a84aaec41fdfb73d72ba39d7b5b35523cf575b432b3864bb6889d855602faef01b4dd21a734.css" integrity="sha512-P5MgMn1jBN01asBgU0z60Qk4QxiXo86&#43;wlFahKrsQf37c9cro517WzVSPPV1tDKzhku2iJ2FVgL67wG03SGnNA==" rel="stylesheet" type="text/css">



<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.10104/0/css/CoveoFullSearch.min.css" integrity="sha512-9/A9yVCU4GS6/iIwTRJKnan4Hf8gDKj3anwItN9QCsU8SixaT5xkjjWsZ/iq0TWaizhtqOLacadXJfxHlwYCcA==" crossorigin="anonymous" />


<link href="/nginx-ingress-controller/css/docs-nginx-com/nginx-site-header.min.80b10ed49ecfad93607ee771acca88d13dc958e6eecc642af3aa2b170c86b8dcce442e7b86c3e5298c95b0ab2b053a71074c2f15c28266c3a2c502275415b3a7.css" rel="stylesheet" type="text/css">


<link href="/nginx-ingress-controller/css/docs-nginx-com/style.min.2cd4748c438c49d012a5fdc6b98770223c4875fe0f89517b17423b6a5328af4d93d9d772207bfc51d9449781281e1eb8707dcc2f7467e6e24330c9b8c7c5f734.css" rel="stylesheet" type="text/css">


<link href="/nginx-ingress-controller/css/bootstrap-docs.min.8a70c94c72e3783cecd631bc1705c7843b2fdef99f1549f0bf7f774a4083173ee25974413a8206c2340c0fee9bb7a07acd41d41c78ae2280c96a2ce0faca2847.css" rel="stylesheet" type="text/css">



<link href="/nginx-ingress-controller/css/coveo.min.fce7d4df31de99e4f86510a90915820f236b8dcd02be030b27529af7ff10189f807c78cedacb91afa9d07f310a172c6046b1921832f199b9158898a7f74fa117.css" rel="stylesheet" type="text/css">



<link href="/nginx-ingress-controller/css/f5-hugo.min.d668cd51e42f94f8d4fb9a81de0dcf6329a121173422b5695c37a707ac9df6ee4f90ee81b4dbecd797731a81f593ef80d85471bda37cb9af5ce617482982aa35.css" rel="stylesheet" type="text/css">





<link href="/nginx-ingress-controller/css/highlight.min.fe5647c4b67f4b3fcf0ea60b483479d567ba1b05ee6e816439207edfa3d310dbee79536278c67d89c1db5da275bde962a10163da375f05bd19743e2a80e1ad02.css" rel="stylesheet" type="text/css">







      
<script async="async" src="https://consent.trustarc.com/notice?domain=f5.com&c=teconsent&js=nj&noticeType=bb&text=true&gtm=1" crossorigin=""></script>



<script src="https://mktg.tags.f5.com/basic/prod/utag.sync.js"></script> 







<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-K5HG9JT');</script>

</head>

<body>
   
 
<script type="text/javascript"> 
    (function(a,b,c,d) { 
        a='//mktg.tags.f5.com/basic/prod/utag.js'; 
        b=document;c='script';d=b.createElement(c);d.src=a; 
        d.type='text/java'+c;d.async=true; 
        a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a)})(); 
</script> 
  

  <header>
    
<div class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar navbar-fixed-top">
  <div class="container-fluid flex-md-row flex-column">
    <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="NGINX Docs">
      <img class="navbar-img" src="https://docs.nginx.com/images/icons/NGINX-Docs-horiz-white-type.svg" alt="NGINX Docs">
    </a>
    
      <div class="navbar navbar-nav">
            
        <div id="searchbox">
          
          <div class="CoveoSearchbox" data-placeholder='Search NGINX Docs...'></div>
        </div>
      </div>
    
    

    <ul class="navbar navbar-nav">
        <li class="nav-item-explore active">
          <button class="button navbar-button"><a href="https://www.f5.com/products" alt="Explore all products on f5.com" target="_blank">Explore All Products</a></button>
        </li>
    </ul>
  </div>
</div>


  </header>

  
    
    <nav aria-label="breadcrumb" class="breadcrumb navbar">
    <div class="nav flex-md-row">
        <ol class="breadcrumb">
            <li><a href="/" alt="NGINX Docs Home">Home</a></li>

            
            
            
            
                
            
            
                
            
            
                
            
            
                
            
            
            
                <li><i class="fas fa-chevron-right"></i><a href="/nginx-ingress-controller/">NGINX Ingress Controller</a></a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-ingress-controller/configuration/">Configuration</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-ingress-controller/configuration/ingress-resources/">Ingress resources</a><i class="fas fa-chevron-right"></i></li>
                
            
                Advanced configuration with Annotations
        </ol>
    </div>
</nav>

  
    
  

  <div class="main container-fluid min-page-height" data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-annotations/">
    
    
<div class="row" style="max-width: calc(100% + 30px) !important; flex-wrap: nowrap;">
  <nav class="sidenav overflow-auto col-md-3 d-none d-xl-block d-print-none align-top" style="width: 25%;">
    


<div id="sidebar-wrapper">

    <div id="sidebar" class="sidebar" aria-label="Sidebar navigation">
        <button id="sidebar-toggle-button" title="Toggle sidebar navigation" role="button" aria-controls="sidebar-content">
            <i class="fa fa-chevron-right sidebar-visible-collapsed"></i>
            <i class="fa fa-chevron-left sidebar-visible-expanded"></i>
        </button>
        <div id="sidebar-content">
            <h3>
                <a class="sidebar-title" href="https://docs.nginx.com/nginx-ingress-controller/" alt="NGINX Ingress Controller"><img
                        class="card-img-top" src="https://docs.nginx.com/images/icons/NGINX-Ingress-Controller-product-icon.svg"
                        alt="NGINX Ingress Controller">
                    NGINX Ingress Controller</a>
            </h3>
            <ul>
            
            
        
            
        
            
        
            
        
            
        
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/overview/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#overview--overview"
                                    aria-controls="overview--overview">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Overview</a>
                            </li>
                        </div>
                        <div id="overview--overview" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/overview/about/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/overview/about/">About</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/overview/design/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/overview/design/">The design of NGINX Ingress Controller</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/overview/nginx-plus/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/overview/nginx-plus/">Extensibility with NGINX Plus</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/overview/product-telemetry/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/overview/product-telemetry/">Product telemetry</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                
                <ul class="sidebar-reg-padding">
                    <div class="accordion" id="accordion1">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <ul>
                                    <li class="nginx-toc-link l1">
                                        <a data-menu-id="/nginx-ingress-controller/technical-specifications/"
                                            href="https://docs.nginx.com/nginx-ingress-controller/technical-specifications/">Technical specifications</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ul>
                
                
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/installation/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#installation--installation"
                                    aria-controls="installation--installation">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Installation</a>
                            </li>
                        </div>
                        <div id="installation--installation" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <div class="accordion" id="Accordion2">
                                    <div class="sidebar-l1-padding">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/installing-nic/" class="accordion-toggle"
                                                            aria-expanded="false" data-toggle="collapse"
                                                            href="#installation--installation--install-nginx-ingress-controller">
                                                            <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                class="fa fa-2xs fa-fw fa-chevron-down"></i>Install NGINX Ingress Controller</a>
                                                    </li>
                                                <ul>
                                            </div>
                                            <div id="installation--installation--install-nginx-ingress-controller" class="accordion-body collapse leaf">
                                                <div class="accordion-inner">

                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/installing-nic/installation-with-helm/" href="https://docs.nginx.com/nginx-ingress-controller/installation/installing-nic/installation-with-helm/">Installation with Helm</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/installing-nic/installation-with-manifests/" href="https://docs.nginx.com/nginx-ingress-controller/installation/installing-nic/installation-with-manifests/">Installation with Manifests</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/installing-nic/installation-with-operator/" href="https://docs.nginx.com/nginx-ingress-controller/installation/installing-nic/installation-with-operator/">Installation with NGINX Ingress Operator</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/build-nginx-ingress-controller/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/installation/build-nginx-ingress-controller/">Build NGINX Ingress Controller</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <div class="accordion" id="Accordion2">
                                    <div class="sidebar-l1-padding">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/nic-images/" class="accordion-toggle"
                                                            aria-expanded="false" data-toggle="collapse"
                                                            href="#installation--installation--nginx-ingress-controller-images">
                                                            <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                class="fa fa-2xs fa-fw fa-chevron-down"></i>NGINX Ingress Controller images</a>
                                                    </li>
                                                <ul>
                                            </div>
                                            <div id="installation--installation--nginx-ingress-controller-images" class="accordion-body collapse leaf">
                                                <div class="accordion-inner">

                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/nic-images/get-registry-image/" href="https://docs.nginx.com/nginx-ingress-controller/installation/nic-images/get-registry-image/">Get NGINX Ingress Controller from the F5 Registry</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/nic-images/get-image-using-jwt/" href="https://docs.nginx.com/nginx-ingress-controller/installation/nic-images/get-image-using-jwt/">Get the NGINX Ingress Controller image with JWT</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/nic-images/use-aws-image/" href="https://docs.nginx.com/nginx-ingress-controller/installation/nic-images/use-aws-image/">Use the AWS Marketplace NGINX Ingress Controller image</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/nic-images/use-gcp-image/" href="https://docs.nginx.com/nginx-ingress-controller/installation/nic-images/use-gcp-image/">Use the GCP Marketplace NGINX Ingress Controller image</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/run-multiple-ingress-controllers/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/installation/run-multiple-ingress-controllers/">Run multiple NGINX Ingress Controllers</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/ingress-nginx/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/installation/ingress-nginx/">Migrate from Ingress-NGINX Controller to NGINX Ingress Controller</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <div class="accordion" id="Accordion2">
                                    <div class="sidebar-l1-padding">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/installation/integrations/" class="accordion-toggle"
                                                            aria-expanded="false" data-toggle="collapse"
                                                            href="#installation--installation--integrations">
                                                            <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                class="fa fa-2xs fa-fw fa-chevron-down"></i>Integrations</a>
                                                    </li>
                                                <ul>
                                            </div>
                                            <div id="installation--installation--integrations" class="accordion-body collapse leaf">
                                                <div class="accordion-inner">

                                                
                                                    
                                                    
                                                    <div class="accordion" id="Accordion3">
                                                        <div class="sidebar-l2-padding">
                                                            <div class="accordion-group sidebar-il-border">
                                                                <div class="accordion-heading">
                                                                    <ul>
                                                                        <li class="nginx-toc-link l2">
                                                                            <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf/" class="accordion-toggle"
                                                                                aria-expanded="false" data-toggle="collapse"
                                                                                href="#installation--integrations--nginx-app-protect-waf">
                                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>NGINX App Protect WAF</a>
                                                                        </li>
                                                                    <ul>
                                                                </div>
                                                                <div id="installation--integrations--nginx-app-protect-waf" class="accordion-body collapse leaf">
                                                                    <div class="accordion-inner">
                                                                    
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf/installation/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf/installation/">Build NGINX Ingress Controller with NGINX App Protect WAF</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf/configuration/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf/configuration/">Configuration</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf/compile-waf-policies/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf/compile-waf-policies/">Compile NGINX App Protect WAF policies using NGINX Instance Manager</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf/troubleshoot-app-protect-waf/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf/troubleshoot-app-protect-waf/">Troubleshoot NGINX App Protect WAF</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                
                                                    
                                                    
                                                    <div class="accordion" id="Accordion3">
                                                        <div class="sidebar-l2-padding">
                                                            <div class="accordion-group sidebar-il-border">
                                                                <div class="accordion-heading">
                                                                    <ul>
                                                                        <li class="nginx-toc-link l2">
                                                                            <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf-v5/" class="accordion-toggle"
                                                                                aria-expanded="false" data-toggle="collapse"
                                                                                href="#installation--integrations--nginx-app-protect-waf-v5">
                                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>NGINX App Protect WAF v5</a>
                                                                        </li>
                                                                    <ul>
                                                                </div>
                                                                <div id="installation--integrations--nginx-app-protect-waf-v5" class="accordion-body collapse leaf">
                                                                    <div class="accordion-inner">
                                                                    
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf-v5/installation/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf-v5/installation/">Build NGINX Ingress Controller with NGINX App Protect WAF v5</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-waf-v5/configuration/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-waf-v5/configuration/">Configuration</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                
                                                    
                                                    
                                                    <div class="accordion" id="Accordion3">
                                                        <div class="sidebar-l2-padding">
                                                            <div class="accordion-group sidebar-il-border">
                                                                <div class="accordion-heading">
                                                                    <ul>
                                                                        <li class="nginx-toc-link l2">
                                                                            <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-dos/" class="accordion-toggle"
                                                                                aria-expanded="false" data-toggle="collapse"
                                                                                href="#installation--integrations--nginx-app-protect-dos">
                                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>NGINX App Protect DoS</a>
                                                                        </li>
                                                                    <ul>
                                                                </div>
                                                                <div id="installation--integrations--nginx-app-protect-dos" class="accordion-body collapse leaf">
                                                                    <div class="accordion-inner">
                                                                    
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-dos/installation/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-dos/installation/">Build NGINX Ingress Controller with NGINX App Protect DoS</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-dos/configuration/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-dos/configuration/">Configuration</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-dos/dos-protected/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-dos/dos-protected/">DoS protected resource specification</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    
                                                                    
                                                                        <ul class="sidebar-l2-padding">
                                                                            <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                <a data-menu-id="/nginx-ingress-controller/installation/integrations/app-protect-dos/troubleshoot-app-protect-dos/"
                                                                                    href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/app-protect-dos/troubleshoot-app-protect-dos/">Troubleshoot NGINX App Protect DoS</a>
                                                                            </li>
                                                                        </ul>
                                                                    
                                                                    
                                                                        
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/integrations/f5-ingresslink/" href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/f5-ingresslink/">F5 BIG-IP</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/installation/integrations/opentracing/" href="https://docs.nginx.com/nginx-ingress-controller/installation/integrations/opentracing/">OpenTracing</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/configuration/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#configuration--configuration"
                                    aria-controls="configuration--configuration">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Configuration</a>
                            </li>
                        </div>
                        <div id="configuration--configuration" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <div class="accordion" id="Accordion2">
                                    <div class="sidebar-l1-padding">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/" class="accordion-toggle"
                                                            aria-expanded="false" data-toggle="collapse"
                                                            href="#configuration--configuration--global-configuration">
                                                            <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                class="fa fa-2xs fa-fw fa-chevron-down"></i>Global configuration</a>
                                                    </li>
                                                <ul>
                                            </div>
                                            <div id="configuration--configuration--global-configuration" class="accordion-body collapse leaf">
                                                <div class="accordion-inner">

                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/command-line-arguments/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/command-line-arguments/">Command-line arguments</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/globalconfiguration-resource/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/globalconfiguration-resource/">GlobalConfiguration resource</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/configmap-resource/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/configmap-resource/">ConfigMap resources</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/custom-templates/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/custom-templates/">Custom templates</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/global-configuration/reporting-resources-status/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/global-configuration/reporting-resources-status/">Reporting resource status</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            
                            
                                
                                <div class="accordion" id="Accordion2">
                                    <div class="sidebar-l1-padding">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/" class="accordion-toggle"
                                                            aria-expanded="false" data-toggle="collapse"
                                                            href="#configuration--configuration--ingress-resources">
                                                            <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                class="fa fa-2xs fa-fw fa-chevron-down"></i>Ingress resources</a>
                                                    </li>
                                                <ul>
                                            </div>
                                            <div id="configuration--configuration--ingress-resources" class="accordion-body collapse leaf">
                                                <div class="accordion-inner">

                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/basic-configuration/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/basic-configuration/">Basic configuration</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-annotations/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-annotations/">Advanced configuration with Annotations</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/custom-annotations/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/custom-annotations/">Custom annotations</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-snippets/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/advanced-configuration-with-snippets/">Advanced configuration with Snippets</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                    
                                                    
                                                    <ul class="sidebar-l2-padding">
                                                        <li class="nginx-toc-link l3 sidebar-il-border">
                                                            <a data-menu-id="/nginx-ingress-controller/configuration/ingress-resources/cross-namespace-configuration/" href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/cross-namespace-configuration/">Cross-namespace configuration</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/security/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/security/">Security recommendations</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/configuration-examples/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/configuration-examples/">Configuration examples</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/policy-resource/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/policy-resource/">Policy resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/transportserver-resource/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/transportserver-resource/">TransportServer resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/virtualserver-and-virtualserverroute-resources/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/virtualserver-and-virtualserverroute-resources/">VirtualServer and VirtualServerRoute resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/configuration/host-and-listener-collisions/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/configuration/host-and-listener-collisions/">Host and Listener collisions</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/logging-and-monitoring/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#logging-and-monitoring--logging-and-monitoring"
                                    aria-controls="logging-and-monitoring--logging-and-monitoring">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Logging And Monitoring</a>
                            </li>
                        </div>
                        <div id="logging-and-monitoring--logging-and-monitoring" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/logging-and-monitoring/logging/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/logging-and-monitoring/logging/">Logging</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/logging-and-monitoring/status-page/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/logging-and-monitoring/status-page/">Status Page</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/logging-and-monitoring/prometheus/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/logging-and-monitoring/prometheus/">Prometheus</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/logging-and-monitoring/service-insight/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/logging-and-monitoring/service-insight/">Service Insight</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                
                <ul class="sidebar-reg-padding">
                    <div class="accordion" id="accordion1">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <ul>
                                    <li class="nginx-toc-link l1">
                                        <a data-menu-id="/nginx-ingress-controller/usage-reporting/"
                                            href="https://docs.nginx.com/nginx-ingress-controller/usage-reporting/">Enable Usage Reporting</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ul>
                
                
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/troubleshooting/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#troubleshooting--troubleshooting"
                                    aria-controls="troubleshooting--troubleshooting">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Troubleshooting</a>
                            </li>
                        </div>
                        <div id="troubleshooting--troubleshooting" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/troubleshooting/troubleshoot-common/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-common/">Troubleshooting common issues</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/troubleshooting/troubleshoot-configmap-policy/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-configmap-policy/">Troubleshooting Policy resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/troubleshooting/troubleshoot-ingress/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-ingress/">Troubleshooting Ingress resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/troubleshooting/troubleshoot-virtualserver/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-virtualserver/">Troubleshooting VirtualServer resources</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                <a data-menu-id="/nginx-ingress-controller/tutorials/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#tutorials--tutorials"
                                    aria-controls="tutorials--tutorials">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Tutorials</a>
                            </li>
                        </div>
                        <div id="tutorials--tutorials" class="accordion-body collapse">
                            <div class="accordion-inner">
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/virtual-server-with-custom-listener-ports/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/virtual-server-with-custom-listener-ports/">Configuring VirtualServer with custom HTTP and HTTPS listener ports</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/security-monitoring/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/security-monitoring/">Connect NGINX App Protect WAF to NGINX Security Monitoring</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/oidc-custom-configuration/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/oidc-custom-configuration/">Customize OIDC Configuration with NGINX Ingress Controller</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/custom-listen-ports/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/custom-listen-ports/">Customizing NGINX Ingress Controller Ports</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/ingress-path-regex-annotation/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/ingress-path-regex-annotation/">Ingresses Path Matching Using Path-Regex Annotation</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/nginx-ingress-istio/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/nginx-ingress-istio/">NGINX Ingress Controller and Istio Service Mesh</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/nginx-ingress-linkerd/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/nginx-ingress-linkerd/">NGINX Ingress Controller and Linkerd</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/nginx-ingress-osm/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/nginx-ingress-osm/">NGINX Ingress Controller and Open Service Mesh</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            
                                
                                <ul class="sidebar-reg-padding">
                                    <div class="accordion" id="accordion2">
                                        <div class="accordion-group sidebar-il-border">
                                            <div class="accordion-heading">
                                                <ul>
                                                    <li class="nginx-toc-link l2">
                                                        <a data-menu-id="/nginx-ingress-controller/tutorials/nginx-dynamic-module/"
                                                            href="https://docs.nginx.com/nginx-ingress-controller/tutorials/nginx-dynamic-module/">Using NGINX Ingress Controller with NGINX Dynamic Modules</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                                
                                
                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
                
                
                <ul class="sidebar-reg-padding">
                    <div class="accordion" id="accordion1">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <ul>
                                    <li class="nginx-toc-link l1">
                                        <a data-menu-id="/nginx-ingress-controller/releases/"
                                            href="https://docs.nginx.com/nginx-ingress-controller/releases/">Releases</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ul>
                
                
            
                
                
                <ul class="sidebar-reg-padding">
                    <div class="accordion" id="accordion1">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <ul>
                                    <li class="nginx-toc-link l1">
                                        <a data-menu-id="/nginx-ingress-controller/community/"
                                            href="https://docs.nginx.com/nginx-ingress-controller/community/">Community and contributing</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ul>
                
                
            
                
                
                <ul class="sidebar-reg-padding">
                    <div class="accordion" id="accordion1">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <ul>
                                    <li class="nginx-toc-link l1">
                                        <a data-menu-id="/nginx-ingress-controller/glossary/"
                                            href="https://docs.nginx.com/nginx-ingress-controller/glossary/">Glossary</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </ul>
                
                
            
        

            </ul>
        </div>
    
    </div>

</div>


  </nav>
  
  
  <main class="content col d-block align-top content-has-toc" role="main">
  
    
    <h1>Advanced configuration with Annotations</h1>

      

      
  
    <p>This topic explains how to enable advanced features in F5 NGINX Ingress Controller with Annotations.</p>
<p>The Ingress resource can use basic NGINX features such as host or path-based routing and TLS termination. Advanced features like rewriting the request URI or inserting additional response headers can be enabled with Annotations.</p>
<p>Outside of advanced features, Annotations are necessary for customizing NGINX behavior such as setting the value of connection timeouts.</p>
<p>Customization is also available through the <a href="/nginx-ingress-controller/configuration/global-configuration/configmap-resource/">ConfigMap</a> resources: Annotations take priority.</p>
<h2 
id="using-annotations">Using Annotations  <a class="headerlink float-right" href="#using-annotations" title="Using Annotations"><i class="fas fa-link fa-xs"></i></a>
</h2><p>This example uses Annotations to customize the configuration for an Ingress resource:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">networking.k8s.io/v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Ingress</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">cafe-ingress-with-annotations</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">annotations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nginx.org/proxy-connect-timeout</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;30s&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nginx.org/proxy-read-timeout</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;20s&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nginx.org/client-max-body-size</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;4m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nginx.org/server-snippets</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      location / {
</span></span></span><span class="line"><span class="cl"><span class="sd">        return 302 /coffee;
</span></span></span><span class="line"><span class="cl"><span class="sd">      }</span><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">cafe.example.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">paths</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/tea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l">Prefix</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">backend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">service</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">tea-svc</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/coffee</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l">Prefix</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">backend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">service</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">coffee-svc</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span></span></span></code></pre></div><h2 
id="validation">Validation  <a class="headerlink float-right" href="#validation" title="Validation"><i class="fas fa-link fa-xs"></i></a>
</h2><p>NGINX Ingress Controller validates the annotations of Ingress resources. If an Ingress is invalid, NGINX Ingress Controller will reject it: the Ingress will continue to exist in the cluster, but NGINX Ingress Controller will ignore it.</p>
<p>You can check if NGINX Ingress Controller successfully applied the configuration for an Ingress resource. For the example <code>cafe-ingress-with-annotations</code> Ingress, you can run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl describe ing cafe-ingress-with-annotations
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Events:
</span></span><span class="line"><span class="cl">  Type     Reason          Age   From                      Message
</span></span><span class="line"><span class="cl">  ----     ------          ----  ----                      -------
</span></span><span class="line"><span class="cl">  Normal   AddedOrUpdated  3s    nginx-ingress-controller  Configuration for default/cafe-ingress-with-annotations was added or updated
</span></span></code></pre></div><p>The events section includes a Normal event with the AddedOrUpdated reason that informs us that the configuration was successfully applied.</p>
<p>If you create an invalid Ingress, NGINX Ingress Controller will reject it and emit a Rejected event. For example, if you create an Ingress <code>cafe-ingress-with-annotations</code>, with an annotation <code>nginx.org/redirect-to-https</code> set to <code>yes please</code> instead of <code>true</code>, you will get:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubectl describe ing cafe-ingress-with-annotations
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Events:
</span></span><span class="line"><span class="cl">  Type     Reason    Age   From                      Message
</span></span><span class="line"><span class="cl">  ----     ------    ----  ----                      -------
</span></span><span class="line"><span class="cl">  Warning  Rejected  13s   nginx-ingress-controller  annotations.nginx.org/redirect-to-https: Invalid value: &#34;yes please&#34;: must be a boolean
</span></span></code></pre></div><p>Note how the events section includes a Warning event with the Rejected reason.</p>
<blockquote class="note">
  <div><strong>Note:</strong><br/> If you make an existing Ingress invalid, NGINX Ingress Controller will reject it and remove the corresponding configuration from NGINX.</div>
</blockquote>

<p>The <code>nginx.com/jwt-token</code> Ingress annotation has limited validation.</p>
<h2 
id="summary-of-annotations">Summary of Annotations  <a class="headerlink float-right" href="#summary-of-annotations" title="Summary of Annotations"><i class="fas fa-link fa-xs"></i></a>
</h2><p>The table below summarizes the available annotations.</p>
<blockquote class="note">
  <div><strong>Note:</strong><br/> Annotations that start with <code>nginx.com</code> are only supported with NGINX Plus.</div>
</blockquote>

<h3 
id="general-customization">General customization  <a class="headerlink float-right" href="#general-customization" title="General customization"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-connect-timeout</em></td>
          <td style="text-align: left"><em>proxy-connect-timeout</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_connect_timeout" target="_blank" rel="noopener">proxy_connect_timeout</a> and <a href="https://nginx.org/en/docs/http/ngx_http_grpc_module.html#grpc_connect_timeout" target="_blank" rel="noopener">grpc_connect_timeout</a> directive.</td>
          <td style="text-align: left"><em>60s</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-read-timeout</em></td>
          <td style="text-align: left"><em>proxy-read-timeout</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_read_timeout" target="_blank" rel="noopener">proxy_read_timeout</a> and <a href="https://nginx.org/en/docs/http/ngx_http_grpc_module.html#grpc_read_timeout" target="_blank" rel="noopener">grpc_read_timeout</a> directive.</td>
          <td style="text-align: left"><em>60s</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-send-timeout</em></td>
          <td style="text-align: left"><em>proxy-send-timeout</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_send_timeout" target="_blank" rel="noopener">proxy_send_timeout</a> and <a href="https://nginx.org/en/docs/http/ngx_http_grpc_module.html#grpc_send_timeout" target="_blank" rel="noopener">grpc_send_timeout</a> directive.</td>
          <td style="text-align: left"><em>60s</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/client-max-body-size</em></td>
          <td style="text-align: left"><em>client-max-body-size</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size" target="_blank" rel="noopener">client_max_body_size</a> directive.</td>
          <td style="text-align: left"><em>1m</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-buffering</em></td>
          <td style="text-align: left"><em>proxy-buffering</em></td>
          <td style="text-align: left">Enables or disables <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_buffering" target="_blank" rel="noopener">buffering of responses</a> from the proxied server.</td>
          <td style="text-align: left"><em>True</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-buffers</em></td>
          <td style="text-align: left"><em>proxy-buffers</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_buffers" target="_blank" rel="noopener">proxy_buffers</a> directive.</td>
          <td style="text-align: left">Depends on the platform.</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-buffer-size</em></td>
          <td style="text-align: left"><em>proxy-buffer-size</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_buffer_size" target="_blank" rel="noopener">proxy_buffer_size</a> and <a href="https://nginx.org/en/docs/http/ngx_http_grpc_module.html#grpc_buffer_size" target="_blank" rel="noopener">grpc_buffer_size</a> directives.</td>
          <td style="text-align: left">Depends on the platform.</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-max-temp-file-size</em></td>
          <td style="text-align: left"><em>proxy-max-temp-file-size</em></td>
          <td style="text-align: left">Sets the value of the  <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_max_temp_file_size" target="_blank" rel="noopener">proxy_max_temp_file_size</a> directive.</td>
          <td style="text-align: left"><em>1024m</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/server-tokens</em></td>
          <td style="text-align: left"><em>server-tokens</em></td>
          <td style="text-align: left">Enables or disables the <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#server_tokens" target="_blank" rel="noopener">server_tokens</a> directive. Additionally, with the NGINX Plus, you can specify a custom string value, including the empty string value, which disables the emission of the “Server” field.</td>
          <td style="text-align: left"><em>True</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/path-regex</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables regular expression modifiers for Ingress path parameter. This translates to the NGINX <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#location" target="_blank" rel="noopener">location</a> directive. You can specify one of these values: &ldquo;case_sensitive&rdquo;, &ldquo;case_insensitive&rdquo;, or &ldquo;exact&rdquo;. The annotation is applied to the entire Ingress resource and its paths. While using Master and Minion Ingresses i.e. Mergeable Ingresses, this annotation can be specified on Minion types. The <code>path-regex</code> annotation specified on Master is ignored, and has no effect on paths defined on Minions.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/path-regex" target="_blank" rel="noopener">path-regex</a></td>
      </tr>
  </tbody>
</table>

<h3 
id="request-uriheader-manipulation">Request URI/Header Manipulation  <a class="headerlink float-right" href="#request-uriheader-manipulation" title="Request URI/Header Manipulation"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-hide-headers</em></td>
          <td style="text-align: left"><em>proxy-hide-headers</em></td>
          <td style="text-align: left">Sets the value of one or more  <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_hide_header" target="_blank" rel="noopener">proxy_hide_header</a> directives. Example: ``&ldquo;nginx.org/proxy-hide-headers&rdquo;: &ldquo;header-a,header-b&rdquo;*</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-pass-headers</em></td>
          <td style="text-align: left"><em>proxy-pass-headers</em></td>
          <td style="text-align: left">Sets the value of one or more   <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass_header" target="_blank" rel="noopener">proxy_pass_header</a> directives. Example: ``&ldquo;nginx.org/proxy-pass-headers&rdquo;: &ldquo;header-a,header-b&rdquo;*</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/rewrites</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures URI rewriting using <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass" target="_blank" rel="noopener">proxy_pass</a> directive.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/rewrites" target="_blank" rel="noopener">rewrites</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/proxy-set-headers</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables customization of proxy headers and values using the <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_set_header" target="_blank" rel="noopener">proxy_set_header</a> directive. Example: <code>&quot;nginx.org/proxy-set-headers&quot;: &quot;header-a: valueA,header-b: valueB,header-c: valueC&quot;</code></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/proxy-set-headers" target="_blank" rel="noopener">Proxy Set Headers</a>.</td>
      </tr>
  </tbody>
</table>

<h3 
id="auth-and-ssltls">Auth and SSL/TLS  <a class="headerlink float-right" href="#auth-and-ssltls" title="Auth and SSL/TLS"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/redirect-to-https</em></td>
          <td style="text-align: left"><em>redirect-to-https</em></td>
          <td style="text-align: left">Sets the 301 redirect rule based on the value of the ``http_x_forwarded_proto* header on the server block to force incoming traffic to be over HTTPS. Useful when terminating SSL in a load balancer in front of NGINX Ingress Controller — see <a href="https://github.com/nginxinc/kubernetes-ingress/issues/115" target="_blank" rel="noopener">115</a></td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>ingress.kubernetes.io/ssl-redirect</em></td>
          <td style="text-align: left"><em>ssl-redirect</em></td>
          <td style="text-align: left">Sets an unconditional 301 redirect rule for all incoming HTTP traffic to force incoming traffic over HTTPS.</td>
          <td style="text-align: left"><em>True</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/hsts</em></td>
          <td style="text-align: left"><em>hsts</em></td>
          <td style="text-align: left">Enables <a href="https://www.nginx.com/blog/http-strict-transport-security-hsts-and-nginx/" target="_blank" rel="noopener">HTTP Strict Transport Security (HSTS)</a>\ : the HSTS header is added to the responses from backends. The ``preload* directive is included in the header.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/hsts-max-age</em></td>
          <td style="text-align: left"><em>hsts-max-age</em></td>
          <td style="text-align: left">Sets the value of the ``max-age* directive of the HSTS header.</td>
          <td style="text-align: left"><em>2592000</em> (1 month)</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/hsts-include-subdomains</em></td>
          <td style="text-align: left"><em>hsts-include-subdomains</em></td>
          <td style="text-align: left">Adds the ``includeSubDomains* directive to the HSTS header.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/hsts-behind-proxy</em></td>
          <td style="text-align: left"><em>hsts-behind-proxy</em></td>
          <td style="text-align: left">Enables HSTS based on the value of the <code>http_x_forwarded_proto* request header. Should only be used when TLS termination is configured in a load balancer (proxy) in front of NGINX Ingress Controller. Note: to control redirection from HTTP to HTTPS configure the </code>nginx.org/redirect-to-https* annotation.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/basic-auth-secret</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a Secret resource with a user list for HTTP Basic authentication.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/basic-auth-realm</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a realm.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/jwt-key</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a Secret resource with keys for validating JSON Web Tokens (JWTs).</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/jwt" target="_blank" rel="noopener">Support for JSON Web Tokens (JWTs)</a>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/jwt-realm</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a realm.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/jwt" target="_blank" rel="noopener">Support for JSON Web Tokens (JWTs)</a>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/jwt-token</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a variable that contains a JSON Web Token.</td>
          <td style="text-align: left">By default, a JWT is expected in the ``Authorization* header as a Bearer Token.</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/jwt" target="_blank" rel="noopener">Support for JSON Web Tokens (JWTs)</a>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/jwt-login-url</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Specifies a URL to which a client is redirected in case of an invalid or missing JWT.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/jwt" target="_blank" rel="noopener">Support for JSON Web Tokens (JWTs)</a>.</td>
      </tr>
  </tbody>
</table>

<h3 
id="listeners">Listeners  <a class="headerlink float-right" href="#listeners" title="Listeners"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/listen-ports</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures HTTP ports that NGINX will listen on.</td>
          <td style="text-align: left"><em>[80]</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/listen-ports-ssl</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures HTTPS ports that NGINX will listen on.</td>
          <td style="text-align: left"><em>[443]</em></td>
          <td style="text-align: left"></td>
      </tr>
  </tbody>
</table>

<h3 
id="backend-services-upstreams">Backend services (Upstreams)  <a class="headerlink float-right" href="#backend-services-upstreams" title="Backend services (Upstreams)"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/lb-method</em></td>
          <td style="text-align: left"><em>lb-method</em></td>
          <td style="text-align: left">Sets the <a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/#choosing-a-load-balancing-method" target="_blank" rel="noopener">load balancing method</a>. To use the round-robin method, specify <code>&quot;round_robin&quot;</code>.</td>
          <td style="text-align: left"><em>&ldquo;random two least_conn&rdquo;</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/ssl-services</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables HTTPS or gRPC over SSL when connecting to the endpoints of services.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/ssl-services" target="_blank" rel="noopener">ssl-services</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/grpc-services</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables gRPC for services. Note: requires HTTP/2 (see ``http2* ConfigMap key); only works for Ingresses with TLS termination enabled.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/grpc-services" target="_blank" rel="noopener">grpc-services</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/websocket-services</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables WebSocket for services.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/websocket" target="_blank" rel="noopener">websocket</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/max-fails</em></td>
          <td style="text-align: left"><em>max-fails</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#max_fails" target="_blank" rel="noopener">max_fails</a> parameter of the ``server* directive.</td>
          <td style="text-align: left"><em>1</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/max-conns</em></td>
          <td style="text-align: left">N\A</td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#max_conns" target="_blank" rel="noopener">max_conns</a> parameter of the ``server* directive.</td>
          <td style="text-align: left"><em>0</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/upstream-zone-size</em></td>
          <td style="text-align: left"><em>upstream-zone-size</em></td>
          <td style="text-align: left">Sets the size of the shared memory <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#zone" target="_blank" rel="noopener">zone</a> for upstreams. For NGINX, the special value 0 disables the shared memory zones. For NGINX Plus, shared memory zones are required and cannot be disabled. The special value 0 will be ignored.</td>
          <td style="text-align: left"><em>256K</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/fail-timeout</em></td>
          <td style="text-align: left"><em>fail-timeout</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#fail_timeout" target="_blank" rel="noopener">fail_timeout</a> parameter of the ``server* directive.</td>
          <td style="text-align: left"><em>10s</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/sticky-cookie-services</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures session persistence.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/session-persistence" target="_blank" rel="noopener">session-persistence</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/keepalive</em></td>
          <td style="text-align: left"><em>keepalive</em></td>
          <td style="text-align: left">Sets the value of the <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#keepalive" target="_blank" rel="noopener">keepalive</a> directive. Note that ``proxy_set_header Connection &ldquo;&rdquo;;* is added to the generated configuration when the value &gt; 0.</td>
          <td style="text-align: left"><em>0</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/health-checks</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables active health checks.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/health-checks" target="_blank" rel="noopener">health-checks</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/health-checks-mandatory</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures active health checks as mandatory.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/health-checks" target="_blank" rel="noopener">health-checks</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/health-checks-mandatory-queue</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">When active health checks are mandatory, creates a queue where incoming requests are temporarily stored while NGINX Plus is checking the health of the endpoints after a configuration reload.</td>
          <td style="text-align: left"><em>0</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/health-checks" target="_blank" rel="noopener">health-checks</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.com/slow-start</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Sets the upstream server <a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/#server-slow-start" target="_blank" rel="noopener">slow-start period</a>. By default, slow-start is activated after a server becomes <a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/#passive-health-checks" target="_blank" rel="noopener">available</a> or <a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/#active-health-checks" target="_blank" rel="noopener">healthy</a>. To enable slow-start for newly-added servers, configure <a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/health-checks" target="_blank" rel="noopener">mandatory active health checks</a>.</td>
          <td style="text-align: left"><em>&ldquo;0s&rdquo;</em></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/use-cluster-ip</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables using the Cluster IP and port of the service instead of the default behavior of using the IP and port of the pods. When this field is enabled, the fields that configure NGINX behavior related to multiple upstream servers (like <code>lb-method* and </code>next-upstream``) will have no effect, as NGINX Ingress Controller will configure NGINX with only one upstream server that will match the service Cluster IP.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"></td>
      </tr>
  </tbody>
</table>

<h3 
id="rate-limiting">Rate limiting  <a class="headerlink float-right" href="#rate-limiting" title="Rate limiting"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-rate</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables request-rate-limiting for this ingress by creating a <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req_zone" target="_blank" rel="noopener">limit_req_zone</a> and matching <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req" target="_blank" rel="noopener">limit_req</a> for each location. All servers/locations of one ingress share the same zone. Must have unit r/s or r/m.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">200r/s</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-key</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">The key to which the rate limit is applied. Can contain text, variables, or a combination of them. Variables must be surrounded by ${}.</td>
          <td style="text-align: left">${binary_remote_addr}</td>
          <td style="text-align: left">${binary_remote_addr}</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-zone-size</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures the size of the created <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req_zone" target="_blank" rel="noopener">limit_req_zone</a>.</td>
          <td style="text-align: left">10m</td>
          <td style="text-align: left">20m</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-delay</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures the delay-parameter of the <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req" target="_blank" rel="noopener">limit_req</a> directive.</td>
          <td style="text-align: left">0</td>
          <td style="text-align: left">100</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-no-delay</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures the nodelay-parameter of the <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req" target="_blank" rel="noopener">limit_req</a> directive.</td>
          <td style="text-align: left">false</td>
          <td style="text-align: left">true</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-burst</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Configures the burst-parameter of the <a href="https://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req" target="_blank" rel="noopener">limit_req</a> directive.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">100</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-dry-run</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables the dry run mode. In this mode, the rate limit is not actually applied, but the number of excessive requests is accounted as usual in the shared memory zone.</td>
          <td style="text-align: left">false</td>
          <td style="text-align: left">true</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-log-level</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Sets the desired logging level for cases when the server refuses to process requests due to rate exceeding, or delays request processing. Allowed values are info, notice, warn or error.</td>
          <td style="text-align: left">error</td>
          <td style="text-align: left">info</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-reject-code</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Sets the status code to return in response to rejected requests. Must fall into the range 400..599.</td>
          <td style="text-align: left">429</td>
          <td style="text-align: left">503</td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/limit-req-scale</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enables a constant rate-limit by dividing the configured rate by the number of nginx-ingress pods currently serving traffic. This adjustment ensures that the rate-limit remains consistent, even as the number of nginx-pods fluctuates due to autoscaling. Note: This will not work properly if requests from a client are not evenly distributed accross all ingress pods (sticky sessions, long lived TCP-Connections with many requests etc.). In such cases using NGINX+&rsquo;s zone-sync feature instead would give better results.</td>
          <td style="text-align: left">false</td>
          <td style="text-align: left">true</td>
      </tr>
  </tbody>
</table>

<h3 
id="snippets-and-custom-templates">Snippets and custom templates  <a class="headerlink float-right" href="#snippets-and-custom-templates" title="Snippets and custom templates"><i class="fas fa-link fa-xs"></i></a>
</h3>




<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>nginx.org/location-snippets</em></td>
          <td style="text-align: left"><em>location-snippets</em></td>
          <td style="text-align: left">Sets a custom snippet in location context.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>nginx.org/server-snippets</em></td>
          <td style="text-align: left"><em>server-snippets</em></td>
          <td style="text-align: left">Sets a custom snippet in server context.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"></td>
      </tr>
  </tbody>
</table>

<h3 
id="app-protect">App Protect WAF  <a class="headerlink float-right" href="#app-protect" title="App Protect WAF"><i class="fas fa-link fa-xs"></i></a>
</h3><blockquote class="note">
  <div><strong>Note:</strong><br/> The App Protect annotations only work if the App Protect WAF module is <a href="/nginx-ingress-controller/installation/integrations/app-protect-waf/installation/">installed</a>.</div>
</blockquote>






<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>appprotect.f5.com/app-protect-policy</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">The name of the App Protect Policy for the Ingress Resource. Format is <code>namespace/name</code>. If no namespace is specified, the same namespace of the Ingress Resource is used. If not specified but ``appprotect.f5.com/app-protect-enable* is true, a default policy id applied. If the referenced policy resource does not exist, or policy is invalid, this annotation will be ignored, and the default policy will be applied.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-waf" target="_blank" rel="noopener">app-protect-waf</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>appprotect.f5.com/app-protect-enable</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enable App Protect for the Ingress Resource.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-waf" target="_blank" rel="noopener">app-protect-waf</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>appprotect.f5.com/app-protect-security-log-enable</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enable the <a href="/nginx-app-protect/troubleshooting/#app-protect-logging-overview">security log</a> for App Protect.</td>
          <td style="text-align: left"><em>False</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-waf" target="_blank" rel="noopener">app-protect-waf</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>appprotect.f5.com/app-protect-security-log</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">The App Protect log configuration for the Ingress Resource. Format is <code>namespace/name</code>. If no namespace is specified, the same namespace as the Ingress Resource is used. If not specified the  default is used which is:  filter: <code>illegal</code>, format: <code>default</code>. Multiple configurations can be specified in a comma separated list. Both log configurations and destinations list (see below) must be of equal length. Configs and destinations are paired by the list indices.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-waf" target="_blank" rel="noopener">app-protect-waf</a></td>
      </tr>
      <tr>
          <td style="text-align: left"><em>appprotect.f5.com/app-protect-security-log-destination</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">The destination of the security log. For more information check the <a href="/nginx-app-protect/troubleshooting/#app-protect-logging-overview">DESTINATION argument</a>. Multiple destinations can be specified in a comma-separated list.  Both log configurations and destinations list (see above) must be of equal length. Configs and destinations are paired by the list indices.</td>
          <td style="text-align: left"><em>syslog:server=localhost:514</em></td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-waf" target="_blank" rel="noopener">app-protect-waf</a></td>
      </tr>
  </tbody>
</table>

<h3 
id="app-protect-dos">App Protect DoS  <a class="headerlink float-right" href="#app-protect-dos" title="App Protect DoS"><i class="fas fa-link fa-xs"></i></a>
</h3><blockquote class="note">
  <div><strong>Note:</strong><br/> The App Protect DoS annotations only work if the App Protect DoS module is <a href="/nginx-ingress-controller/installation/integrations/app-protect-dos/installation/">installed</a>.</div>
</blockquote>






<table class="table table-striped table-bordered table-responsive">
  <thead>
      <tr>
          <th style="text-align: left">Annotation</th>
          <th style="text-align: left">ConfigMap Key</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Default</th>
          <th style="text-align: left">Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><em>appprotectdos.f5.com/app-protect-dos-resource</em></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">Enable App Protect DoS for the Ingress Resource by specifying a <a href="/nginx-ingress-controller/installation/integrations/app-protect-dos/dos-protected/">DosProtectedResource</a>.</td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left"><a href="https://github.com/nginxinc/kubernetes-ingress/tree/v3.6.2/examples/ingress-resources/app-protect-dos" target="_blank" rel="noopener">app-protect-dos</a></td>
      </tr>
  </tbody>
</table>


    
  <hr>
    

	
<div class="container flex">
	<ul class="next-prev-icon">

		
		
		<li style="flex:1; text-align: left; white-space: nowrap;"><a href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/basic-configuration/" class="" title="Previous -- Basic configuration "><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.378 46.5L1.94 25.06C1.80067 24.9209 1.69014 24.7556 1.61472 24.5738C1.53931 24.3919 1.50049 24.1969 1.50049 24C1.50049 23.8031 1.53931 23.6081 1.61472 23.4262C1.69014 23.2444 1.80067 23.0791 1.94 22.94L23.378 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M45.878 46.5L24.44 25.06C24.3007 24.9209 24.1901 24.7556 24.1147 24.5738C24.0393 24.3919 24.0005 24.1969 24.0005 24C24.0005 23.8031 24.0393 23.6081 24.1147 23.4262C24.1901 23.2444 24.3007 23.0791 24.44 22.94L45.878 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		

		
			<li style="flex:1; text-align: right; white-space: nowrap;"><a href="https://docs.nginx.com/nginx-ingress-controller/configuration/ingress-resources/custom-annotations/" class="" title="Next -- Custom annotations"><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.622 1.5L46.06 22.94C46.1993 23.0791 46.3099 23.2444 46.3853 23.4262C46.4607 23.6081 46.4995 23.8031 46.4995 24C46.4995 24.1969 46.4607 24.3919 46.3853 24.5738C46.3099 24.7556 46.1993 24.9209 46.06 25.06L24.622 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.122 1.5L23.56 22.94C23.6993 23.0791 23.8099 23.2444 23.8853 23.4262C23.9607 23.6081 23.9995 23.8031 23.9995 24C23.9995 24.1969 23.9607 24.3919 23.8853 24.5738C23.8099 24.7556 23.6993 24.9209 23.56 25.06L2.122 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		
		</ul>
	</div>

    
  </main>
  
    
      <div class="col-md-3 d-none d-xl-block d-print-none nginx-toc align-top" style="width: 25%;">
      <nav class="bd-links" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <h3 class="bd-toc-link">What's on This Page</h3>
    
      
        <nav id="TableOfContents">
  <ul>
    <li><a href="#using-annotations">Using Annotations</a></li>
    <li><a href="#validation">Validation</a></li>
    <li><a href="#summary-of-annotations">Summary of Annotations</a>
      <ul>
        <li><a href="#general-customization">General customization</a></li>
        <li><a href="#request-uriheader-manipulation">Request URI/Header Manipulation</a></li>
        <li><a href="#auth-and-ssltls">Auth and SSL/TLS</a></li>
        <li><a href="#listeners">Listeners</a></li>
        <li><a href="#backend-services-upstreams">Backend services (Upstreams)</a></li>
        <li><a href="#rate-limiting">Rate limiting</a></li>
        <li><a href="#snippets-and-custom-templates">Snippets and custom templates</a></li>
        <li><a href="#app-protect">App Protect WAF</a></li>
        <li><a href="#app-protect-dos">App Protect DoS</a></li>
      </ul>
    </li>
  </ul>
</nav>
      
    
  </div>
</nav>
      </div>
    
  
</div>





  </div>

  <footer>

    
    <footer id="footer">
   <div class="container-fluid">

       <div class="row align-items-center">

         <div class="col-md-6 d-md-flex">
             <img class="nginx-logo-footer" src="https://docs.nginx.com/images/icons/NGINX-Part-of-F5-horiz-all-white-525x208@2x.png"/>
         </div>

         
         <div class="col-md d-flex footer-text">
           <div class="col-xl d-none d-md-block align-self-center text-semibold align-right">
             <span>Found a bug? Looking for something new?</span>
           </div>
           <div class="col-lg d-none d-md-block pl-0">
             <button class="button footer-button"><a href="https://docs.nginx.com/feedback/" alt="Select if you have feedback">Let Us Know</a></button>
           </div>
         </div>
         

       </div>


       
       <div class="row d-print-none d-none d-md-flex">
         <div class="col-md-3 d-none d-md-block">
           <span class="footer-head">Company</span>
           <ul class="footer-text">
             <li><a href="https://www.f5.com/go/product/welcome-to-nginx" target="_blank" alt="Select to learn about F5 NGINX">About F5 NGINX</a></li>
             <li><a href="https://www.f5.com/company/events" target="_blank" alt="Select to learn about F5 events">Events</a></li>
           </ul>
           <br />
           <span class="footer-head">Resources</span>
           <ul class="footer-text">
             <li><a href="https://www.f5.com/company/blog/nginx" target="_blank" alt="Select to visit the F5 NGINX blog" >Blog</a></li>
             <li><a href="https://www.f5.com/go/faq/nginx-faq" target="_blank" alt="Select to visit the F5 NGINX frequently asked questions page" >FAQ</a></li>
             <li><a href="https://www.f5.com/services" target="_blank" alt="Select to learn about F5 NGINX Support">Professional Services</a></li>
             <li><a href="https://www.f5.com/learn/training" target="_blank" alt="Select to learn about F5 training offerings" >Training</a></li>
           </ul>
         </div>

         <div class="col-md-3 d-none d-md-block">
           <span class="footer-head">Products</span>
             <ul class="footer-text">
                 <li><a title="F5 NGINX Plus" aria-label="F5 NGINX Plus" href="https://www.f5.com/products/nginx/nginx-plus">F5 NGINX Plus</a></li>
                 <li><a title="F5 NGINX App Protect" aria-label="F5 NGINX App Protect" href="https://www.f5.com/products/nginx/nginx-app-protect">F5 NGINX App Protect</a></li>
                 <li><a title="F5 NGINX Instance Manager" aria-label="F5 NGINX Instance Manager" href="https://www.f5.com/products/nginx/instance-manager">F5 NGINX Instance Manager</a></li>
                 <li><a title="F5 NGINX Ingress Controller" aria-label="F5 NGINX Ingress Controller" href="https://www.f5.com/products/nginx/nginx-ingress-controller">F5 NGINX Ingress Controller</a></li>
                 <li><a title="F5 NGINX Gateway Fabric" aria-label="F5 NGINX Gateway Fabric" href="https://www.f5.com/products/nginx/nginx-gateway-fabric">F5 NGINX Gateway Fabric</a></li>
                 <li><a title="F5 NGINXaaS for Azure" aria-label="F5 NGINXaaS for Azure" href="https://www.f5.com/products/nginx/f5-nginxaas-for-azure">F5 NGINXaaS for Azure</a></li>
             </ul>
         </div>

         <div class="col-md-3 d-none d-md-block">
           <span class="footer-head">NGINX on GitHub</span>
           <ul class="footer-text">
             <li><a title="NGINX Open Source" aria-label="NGINX Open Source" href="https://github.com/nginx/nginx"><span class="inner">NGINX Open Source</span></a></li>
             <li><a title="NGINX Unit" aria-label="NGINX Unit" href="https://github.com/nginx/unit"><span class="inner">NGINX Unit</span></a></li>
             <li><a title="NGINX Amplify" aria-label="NGINX Amplify" href="https://github.com/nginxinc/nginx-amplify-agent"><span class="inner">NGINX Amplify</span></a></li>
             <li><a title="NGINX Agent" aria-label="NGINX Agent" href="https://github.com/nginx/Agent"><span class="inner">NGINX Agent</span></a></li>
             <li><a title="NGINX Kubernetes Ingress Controller" aria-label="NGINX Kubernetes Ingress Controller" href="https://github.com/nginxinc/kubernetes-ingress"><span class="inner">NGINX Kubernetes Ingress Controller</span></a></li>
             <li><a title="NGINX Gateway Fabric" aria-label="NGINX Gateway Fabric" href="https://github.com/nginxinc/nginx-gateway-fabric"><span class="inner">NGINX Gateway Fabric</span></a></li>
         </ul>
         </div>

         <div class="col-md-2 d-none d-md-block">
           <span class="footer-head">Social</span>
               <ul class="footer-social">
                 <li><a href="https://www.facebook.com/nginxinc" title="facebook" aria-label="facebook" target="_blank" rel="noreferrer"><i class="fa-brands fa-facebook" aria-hidden="true"></i>
                  </a></li>
                 <li><a href="https://twitter.com/nginx" title="X" aria-label="x" target="_blank" rel="noreferrer"><i class="fa-brands fa-x-twitter" aria-hidden="true"></i></a></li>
                 <li><a href="https://www.linkedin.com/company/nginx" title="linkedin" aria-label="linkedin" target="_blank" rel="noreferrer"><i class="fa-brands fa-linkedin" aria-hidden="true"></i>
                  </a></li>
                 <li><a href="https://www.youtube.com/user/NginxInc" title="youtube" aria-label="youtube" target="_blank" rel="noreferrer" alt="NGINX Youtube Channel"><i class="fa-brands fa-square-youtube" aria-hidden="true"></i>
                  </a></li>
               </ul>
         </div>
       </div>
       
       <div class="site-info footer-text">

           <div class="text-center">
           <p><a href="https://www.f5.com/"><img class="f5-logo-footer" src="https://docs.nginx.com/images/icons/Logo_F5.svg" alt="F5 logo"></a>
              ©2024 F5, Inc. All rights reserved.</p><p><a href="https://www.f5.com/company/policies/trademarks" rel="noopener" target="_blank">Trademarks</a>  <a href="https://www.f5.com/company/policies" rel="noopener" target="_blank">Policies</a> <a href="https://docs.nginx.com/ossc">Open Source Components</a>  <a href="https://www.f5.com/company/policies/privacy-notice" rel="noopener" target="_blank">Privacy</a>  <a href="https://www.f5.com/company/policies/F5-California-privacy-summary" rel="noopener" target="_blank">California Privacy</a>  <a href="https://www.f5.com/company/policies/privacy-notice#no-sell" rel="noopener" target="_blank">Do Not Sell My Personal Information</a>  <span id="teconsent"></span></p>
           </div>

       </div>
   </div>
</footer>

    

  </footer>


<script src="/nginx-ingress-controller/js/jquery-3-6-4.min.js" type="text/javascript" integrity=""></script>


<script src="/nginx-ingress-controller/js/kube.min.a3a07cceb64989e2f0bf41653ab4d8346ba4312270eb5cc80d6afad3bf30a0ca9768aaa2559cb582e663332c541edab6a4068ef2e88b739fa425e2e870eb0aff.js" type="text/javascript" integrity="sha512-o6B8zrZJieLwv0FlOrTYNGukMSJw61zIDWr6078woMqXaKqiVZy1guZjMyxUHtq2pAaO8uiLc5&#43;kJeLocOsK/w=="></script>



<script src="/nginx-ingress-controller/js/bootstrap.bundle.min.c15ed88f56a52190ea645094409cbce5537eaaf108972f777c840037b8aa0c508f12e70b09e345cf8af7e450a8f6ce96ae974340f8bcd316e58d707c063b6f72.js" type="text/javascript" integrity="sha512-wV7Yj1alIZDqZFCUQJy85VN&#43;qvEIly93fIQAN7iqDFCPEucLCeNFz4r35FCo9s6WrpdDQPi80xbljXB8Bjtvcg=="></script>



<script src="/nginx-ingress-controller/js/code-copy.b424b9cf3f8a69320d1a74e5b4345962141999ae58795c39fb9c5ac8953f3aef3373d7a334971f578e4dc4ee212cbe8f42951d16edb285e6a7931634998d900c.js" type="text/javascript" ></script>





<script class="coveo-script" src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/CoveoJsSearch.Lazy.min.js" integrity="sha512-HxdDBIp5snbqtu1TPkBnXLKEvN9IPz3PeZW8zT9KfsflV9Ck822XDroDlpVbfCfXeiu8C0RDVn0fdu7aGy/H1g==" crossorigin="anonymous"></script>

<script src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/templates/templates.js" integrity="sha512-CR0Yk/LIwgh1MsKqjecDp/r6F9ipKc6gA+4+E1pplT3N3r1pk+la/HaqyDiKtjOFwrwIIbIYBFrUJgPql93QHw==" crossorigin="anonymous"></script>






<script src="/nginx-ingress-controller/js/coveo.min.6e0e2c15ea8204cc128d34f0e7e13d16783166196b052d33cb05ec26a38415801ab03141a36256976745037faedb2da32dd8f3600b92b5f3c7d22fa634b0624f.js" integrity="sha512-bg4sFeqCBMwSjTTw5&#43;E9FngxZhlrBS0zywXsJqOEFYAasDFBo2JWl2dFA3&#43;u2y2jLdjzYAuStfPH0i&#43;mNLBiTw==" type="text/javascript"></script>






  
  

  
  





<script src="/nginx-ingress-controller/js/sidebar.min.89a78ac76492f78b44370cf6bbaa09457606d00a4b14db603de939e128451bf31bd29e46c179fbc3a1d632302f5ebfe61c5b9e65e2c171acd4981185cd3329b6.js" type="text/javascript" integrity="sha512-iaeKx2SS94tENwz2u6oJRXYG0ApLFNtgPek54ShFG/Mb0p5GwXn7w6HWMjAvXr/mHFueZeLBcazUmBGFzTMptg=="></script>
 
<div id="consent_blackbar" style="position:fixed;top:0px;width:100%"></div>
</body>
</html>


